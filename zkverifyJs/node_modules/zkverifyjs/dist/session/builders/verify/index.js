"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.VerificationBuilder = void 0;
class VerificationBuilder {
    constructor(executeVerify, proofOptions) {
        this.executeVerify = executeVerify;
        this.nonceSet = false;
        this.waitForPublishedAttestationSet = false;
        this.registeredVkSet = false;
        this.options = { proofOptions };
    }
    nonce(nonce) {
        if (this.nonceSet) {
            throw new Error('Nonce can only be set once.');
        }
        this.nonceSet = true;
        this.options.nonce = nonce;
        return this;
    }
    waitForPublishedAttestation() {
        if (this.waitForPublishedAttestationSet) {
            throw new Error('waitForPublishedAttestation can only be set once.');
        }
        this.waitForPublishedAttestationSet = true;
        this.options.waitForNewAttestationEvent = true;
        return this;
    }
    withRegisteredVk() {
        if (this.registeredVkSet) {
            throw new Error('withRegisteredVk can only be set once.');
        }
        this.registeredVkSet = true;
        this.options.registeredVk = true;
        return this;
    }
    async execute(input) {
        return this.executeVerify(this.options, input);
    }
}
exports.VerificationBuilder = VerificationBuilder;
//# sourceMappingURL=index.js.map